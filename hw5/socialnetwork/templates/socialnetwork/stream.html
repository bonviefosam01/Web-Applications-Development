{% extends "socialnetwork/base.html" %}

{% block content %}

    <div class = "id_register_link" id = "id_register_link">
        <a id = "id_nav_global_stream" href="{% url 'stream' %}">Global Stream</a>
        <a id = "id_nav_profile" href="{% url 'profile' %}"> {{ user.first_name }} {{ user.last_name }}</a>
        <a id = "id_nav_follower_stream" href="{% url 'follower_stream' %}">Followers Stream</a>
        <a id = "id_nav_logout" href="{% url 'logout' %}">Logout</a>
    </div>

    <div class = "id_page_name" id = "id_page_name">Global Stream</div>

    <form method = "post" action = "{% url 'stream' %}" class = "id_post_input_text">
        {% csrf_token %}
        <table>
            {% for field in post_form.visible_fields %}
            <tr>
                <td> {{ field.label_tag }}</td>
                <td> {{ field }}</td>
                <td class="error">
                    {% for error in field.errors %} {{ error }} {% endfor %}
                </td>
            </tr>
            {% endfor %}
        </table>
        <button id= "id_post_button" name="id_post_button" type="submit">Submit</button>
    </form>
    <!-- do a for loop through the data base messages, change above back to regular form-->

    {% for post in posts %}
        <div class="id_post_div_" id="id_post_div_{{ post.id }}">
            <a class='id_post_profile_' id = 'id_post_profile_{{ post.id }}' href = "{% url 'follower_page' post.user.id %}">Post by {{ post.user.first_name }} {{ post.user.last_name }} </a>
            -
            <span id = 'id_post_text_{{ post.id }}'> {{ post.message }} </span>
            -
            <span class = 'id_post_date_time_' id = 'id_post_date_time_{{ post.id }}'> {{ post.creation_time|date:"n/j/Y g:i A"}}</span>
            
            <!-- <div class = "id_comment_div_1" id = "id_comment_div_1">
                <a class = 'id_comment_profile_1' id = 'id_comment_profile_1' href = "{% url 'follower_page' user.id %}">Comment by Harry Styles</a>
                <span id = 'id_comment_text_1'>- It is a nice day, but I like snow better. - </span>
                <span class = 'id_comment_date_time_1' id = 'id_comment_date_time_1'>2/10/2025 1:35 PM</span>
            </div> -->
    
            <div class = "id_comment_input_text_">
                <label for="id_comment_input_text_{{ post.id }}">Comment: </label>
                <input id="id_comment_input_text_{{ post.id }}" name="id_comment_input_text_" type="text">
                <button id= "id_comment_button_{{ post.id }}" name="id_comment_button_" type="submit">Submit</button>
        </div>
    {% endfor %}


{% endblock %}
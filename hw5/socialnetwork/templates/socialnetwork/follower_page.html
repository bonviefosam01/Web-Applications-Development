{% extends "socialnetwork/base.html" %}
{% load static %}
{% block content %}
    <div class = "id_register_link" id = "id_register_link">
        <a id = "id_nav_global_stream" href="{% url 'stream' %}">Global Stream</a>
        <a id = "id_nav_profile" href="{% url 'profile' %}">{{ user.first_name }} {{ user.last_name }}</a>
        <a id = "id_nav_follower_stream" href="{% url 'follower_stream' %}">Followers Stream</a>
        <a id = "id_nav_logout" href="{% url 'logout' %}">Logout</a>
    </div>


    <div class = "id_page_name" id = "id_page_name">Profile Page for {{ profile.user.first_name }} {{ profile.user.last_name }}</div>

    {% if profile.profile_pic %}
        <img id="id_user_picture" src="{% url 'photo' profile.user.id %}" alt="User Profile Picture" width="150">
    {% else %}
        <img id = "id_user_picture" src = "{% static 'socialnetwork/profile_pic.png' %}" alt = "user profile picture">
    {% endif %}
    <div id ="id_user_bio">
        {{ profile.bio }}
    </div>

    {% if profile.user in request.user.profile.following.all %}
        <form action ="{% url 'unfollow' profile.user.id %}" method = "POST">
            <button id="id_unfollow">Unfollow</button>
            {% csrf_token %}
        </form>

    {% else %}
    <form action ="{% url 'follow' profile.user.id %}" method = "POST">
        <button id="id_follow">Follow</button>
        {% csrf_token %}
    </form>
    {% endif %}
{% endblock %}